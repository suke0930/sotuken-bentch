<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Frontend Driver</title>
    <style>
        body {
            font-family: sans-serif;
            margin: 2em;
        }

        .container {
            max-width: 600px;
            margin: auto;
            padding: 1em;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        .form-group {
            margin-bottom: 1em;
        }

        label {
            display: block;
            margin-bottom: .5em;
        }

        input {
            width: 100%;
            padding: .5em;
            box-sizing: border-box;
        }

        button {
            padding: .7em 1.5em;
            cursor: pointer;
        }

        .message {
            color: red;
            font-size: 0.9em;
        }

        #loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #eee;
            padding-bottom: 1em;
            margin-bottom: 1em;
        }
    </style>
</head>

<body>

    <!-- „É≠„Éº„Éá„Ç£„É≥„Ç∞Ë°®Á§∫ -->
    <div id="loading-overlay">
        <p>Ë™≠„ÅøËæº„Åø‰∏≠...</p>
    </div>

    <!-- „Çµ„Ç§„É≥„Ç¢„ÉÉ„ÉóÁîªÈù¢ -->
    <section id="signup-section" style="display: none;">
        <div class="container">
            <h2>„É¶„Éº„Ç∂„ÉºÁôªÈå≤</h2>
            <p>„Åì„ÅÆ„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„Çí‰ΩøÁî®„Åô„Çã„Åü„ÇÅ„Å´„ÄÅÁÆ°ÁêÜ„É¶„Éº„Ç∂„Éº„Çí1ÂêçÁôªÈå≤„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ</p>
            <form id="signup-form">
                <div class="form-group">
                    <label for="signup-id">„É¶„Éº„Ç∂„ÉºID</label>
                    <input type="text" id="signup-id" name="id" required>
                </div>
                <div class="form-group">
                    <label for="signup-password">„Éë„Çπ„ÉØ„Éº„Éâ</label>
                    <input type="password" id="signup-password" name="password" required>
                </div>
                <button type="submit">ÁôªÈå≤„Åó„Å¶ÈñãÂßã</button>
                <p id="signup-message" class="message"></p>
            </form>
        </div>
    </section>

    <!-- „É≠„Ç∞„Ç§„É≥ÁîªÈù¢ -->
    <section id="login-section" style="display: none;">
        <div class="container">
            <h2>„É≠„Ç∞„Ç§„É≥</h2>
            <form id="login-form">
                <div class="form-group">
                    <label for="login-id">„É¶„Éº„Ç∂„ÉºID</label>
                    <input type="text" id="login-id" name="id" required>
                </div>
                <div class="form-group">
                    <label for="login-password">„Éë„Çπ„ÉØ„Éº„Éâ</label>
                    <input type="password" id="login-password" name="password" required>
                </div>
                <button type="submit">„É≠„Ç∞„Ç§„É≥</button>
                <p id="login-message" class="message"></p>
            </form>
        </div>
    </section>

    <!-- „É°„Ç§„É≥„Ç≥„É≥„ÉÜ„É≥„ÉÑ (Ë™çË®ºÂæå„Å´Ë°®Á§∫) -->
    <main id="main-content" style="display: none;">
        <header>
            <h1>„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ</h1>
            <button id="logout-button">„É≠„Ç∞„Ç¢„Ç¶„Éà</button>
        </header>

        <div id="errorMessage" class="message-area error"></div>
        <div id="successMessage" class="message-area success"></div>

        <div class="dashboard">
            <div class="tab-buttons">
                <button class="tab-button active" data-tab="servers">üè∞ „Çµ„Éº„Éê„Éº‰∏ÄË¶ß</button>
                <button class="tab-button" data-tab="create">‚ûï Êñ∞Ë¶è‰ΩúÊàê</button>
                <button class="tab-button" data-tab="settings">‚öôÔ∏è Ë®≠ÂÆö</button>
            </div>

            <!-- „Çµ„Éº„Éê„Éº‰∏ÄË¶ß„Çø„Éñ -->
            <div id="servers-tab" class="minecraft-section active">
                <h3>Minecraft„Çµ„Éº„Éê„ÉºÁÆ°ÁêÜ</h3>
                <div id="serversList" class="servers-list">
                    <p>„Çµ„Éº„Éê„ÉºÊÉÖÂ†±„ÇíË™≠„ÅøËæº„Åø‰∏≠...</p>
                </div>
            </div>

            <!-- „Çµ„Éº„Éê„Éº‰ΩúÊàê/Á∑®ÈõÜ„Çø„Éñ -->
            <div id="create-tab" class="minecraft-section">
                <h3 id="form-title">Êñ∞„Åó„ÅÑMinecraft„Çµ„Éº„Éê„Éº„Çí‰ΩúÊàê</h3>
                <form id="serverForm" class="server-form">
                    <input type="hidden" id="serverId" name="serverId">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="serverName">„Çµ„Éº„Éê„ÉºÂêç</label>
                            <input type="text" id="serverName" name="serverName" required
                                placeholder="‰æã: My Minecraft Server">
                        </div>
                        <div class="form-group">
                            <label for="minecraftVersion">Minecraft„Éê„Éº„Ç∏„Éß„É≥</label>
                            <select id="minecraftVersion" name="minecraftVersion" required>
                                <option value="">ÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ</option>
                                <option value="1.20.4">1.20.4</option>
                                <option value="1.20.1">1.20.1</option>
                                <option value="1.19.4">1.19.4</option>
                                <option value="1.19.2">1.19.2</option>
                                <option value="1.18.2">1.18.2</option>
                                <option value="1.17.1">1.17.1</option>
                                <option value="1.16.5">1.16.5</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="serverSoftware">„Çµ„Éº„Éê„Éº„ÇΩ„Éï„Éà„Ç¶„Çß„Ç¢</label>
                            <select id="serverSoftware" name="serverSoftware" required>
                                <option value="">ÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ</option>
                                <option value="vanilla">Vanilla</option>
                                <option value="paper">Paper</option>
                                <option value="spigot">Spigot</option>
                                <option value="bukkit">Bukkit</option>
                                <option value="mohist">Mohist</option>
                                <option value="forge">Forge</option>
                                <option value="fabric">Fabric</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="jdkVersion">JDK„Éê„Éº„Ç∏„Éß„É≥</label>
                            <select id="jdkVersion" name="jdkVersion" required>
                                <option value="">ÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ</option>
                                <option value="OpenJDK 21">OpenJDK 21</option>
                                <option value="OpenJDK 17">OpenJDK 17</option>
                                <option value="OpenJDK 11">OpenJDK 11</option>
                                <option value="OpenJDK 8">OpenJDK 8</option>
                            </select>
                        </div>
                    </div>
                    <button type="submit" id="form-submit-button" class="create-button">„Çµ„Éº„Éê„Éº„Çí‰ΩúÊàê</button>
                </form>
            </div>

            <!-- Ë®≠ÂÆö„Çø„Éñ -->
            <div id="settings-tab" class="minecraft-section">
                <h3>„Ç∑„Çπ„ÉÜ„É†Ë®≠ÂÆö</h3>
                <h4>‰øùË≠∑„Åï„Çå„ÅüAPI„Å∏„ÅÆ„Ç¢„ÇØ„Çª„ÇπË©¶Ë°å</h4>
                <p>„É≠„Ç∞„Ç§„É≥Áä∂ÊÖã„Åß„ÅÆ„ÅøÊàêÂäü„Åó„Åæ„Åô„ÄÇ</p>
                <button id="test-protected-api">/api/protected „Å∏„Ç¢„ÇØ„Çª„Çπ</button>
                <pre id="api-response"
                    style="background: #f4f4f4; padding: 1em; margin-top: 1em; border-radius: 5px; white-space: pre-wrap; word-wrap: break-word; min-height: 50px;"></pre>
            </div>
        </div>
    </main>

    <script src="/auth.js"></script>
    <script src="/app.js"></script>

</body>

</html>